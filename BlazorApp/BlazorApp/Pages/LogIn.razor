@page "/LogIn"
@using Microsoft.Extensions.Logging
@inject Identification identification

<link href="/css/LogIn.css" rel="stylesheet" />

<div class="container">
		<div class="row">
			<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
				<div class="errorContainer">
				</div>
				<div class="card card-signin my-5">
					<div class="card-body">
						<h5 class="card-title text-center">Log in</h5>
						<EditForm Model="@identification" OnValidSubmit="@HandleValidSubmit">
							<DataAnnotationsValidator />
							<ValidationSummary />
							<div class="form-label-group">
								<InputText id="inputLogin" class="form-control" @bind-Value="identification.Login" />
								<label for="inputLogin">Login</label>
							</div>
							<div class="form-label-group">
								<InputText type="password" id="inputPassword" class="form-control" placeholder="Mot de passe" @bind-Value="identification.Password" />
								<label for="inputPassword">Mot de passe</label>
							</div>
							<button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">Connect</button>
						</EditForm>
					</div>
				</div>
			</div>
		</div>
	</div>



<p>Etat connexion : @identification.Connected</p>

@code {

	private void HandleValidSubmit()
	{
		identification.LogIn();
    }
}